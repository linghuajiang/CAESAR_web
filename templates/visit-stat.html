<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <link rel="shortcut icon" href="/static/images/favicon.ico" type="image/x-icon">
    <link rel="icon" href="/static/images/favicon.ico" type="image/x-icon">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="HiRes project">
    <meta name="author" content="item084">
    <title>Liu Lab | Visit </title>

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" integrity="sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh" crossorigin="anonymous">
    <link href="/static/css/index.css" rel="stylesheet">
    <link href="//netdna.bootstrapcdn.com/font-awesome/3.2.1/css/font-awesome.css" rel="stylesheet">
    
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.4.1.slim.min.js" integrity="sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js" integrity="sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6" crossorigin="anonymous"></script>
    <script src="https://vis.nucleome.org/static/lib/nb-dispatch.min.js"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
  </head>

  <body>

    <nav class="navbar navbar-expand-md navbar-dark fixed-top" style="background-color: #353535cc;">
      <a class="navbar-brand font-weight-bold" href="">Liu&nbsp;Lab&nbsp;&#124;&nbsp;CAESAR</a>
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav mr-auto">
          <li class="nav-item">
            <a class="nav-link" href="/">Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="modal" data-target="#nav-caesar" href="#">About <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" data-toggle="modal" data-target="#nav-contact" href="#">Contact <span class="sr-only">(current)</span></a>
          </li>
          <!--li class="nav-item">
            <a class="nav-link" href="#">Link</a>
          </li-->
          <!--li class="nav-item">
            <a class="nav-link disabled" href="#">Disabled</a>
          </li-->
        </ul>
        <ul class="navbar-nav ml-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/caesar/">Guest Login</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Sign up</a>
          </li>
          <li class="nav-item">
            <a class="nav-link disabled" href="#">Login</a>
          </li>
        </ul>
        <!--form class="form-inline mt-2 mt-md-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form-->
      </div>
    </nav>
    <div class="modal fade bd-example-modal-xl" id="nav-contact" data-keyboard="false" tabindex="-1" >
      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Liu Lab</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body text-left" style="margin-left: 20px; margin-right: 20px;">
            <div class="container-fluid d-flex flex-row justify-content-center">
            <div class="mr-3">
              <p class="text-left">Dr. Liu&rsquo;s research lab aims to develop machine learning approaches for real-world bioinformatics and medical informatics problems. We believe that computational methods are essential in order to understand many of these molecular biology problems, including the dynamics of genome conformation and nuclear organization, gene regulation, cellular networks, and the genetic basis of human diseases.</p>

              <p class="text-left">Liu Lab currently has openings for graduate students and postdocs. Please reach out to Dr. Jie Liu via email if you are interested.</p>
            </div>
            <div class="w-100">
              <ul class="list-group">
                <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="https://jieliu6.github.io" target="_blank" class="contact label" style="color: black;">Home</a>
                <a href="https://jieliu6.github.io" target="_blank" class="icon-home contact" style="color:black; font-size:14pt"></a></li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="mailto:drjieliu@umich.edu" target="_blank" class="contact label" style="color: black;">Email</a>
                <a href="mailto:drjieliu@umich.edu" target="_blank" class="icon-envelope-alt contact" style="color: #b23121; font-size:14pt"></a></li>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                <a href="https://github.com/jieliu6" target="_blank" class="contact label" style="color: black;">GitHub</a>
                <a href="https://github.com/jieliu6" target="_blank" class="icon-github contact" style="font-size:14pt"></a></li>
              </ul>
            </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="modal fade bd-example-modal-xl" id="nav-caesar" data-keyboard="false" tabindex="-1" >
      <div class="modal-dialog modal-dialog-centered modal-xl" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">CAESAR</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
          </div>
          <div class="modal-body text-left" style="margin-left: 20px; margin-right: 20px;">
            <p>Whereas 3D chromatin organization at the large scale of topologically associating domains and compartments has been well characterized, our understanding of fine-scale 3D chromatin organization at the nucleosome resolution remains limited. The recent Micro-C technology allows us to profile high-resolution chromatin organization in a high-throughput fashion, but it is only available on a few cell lines so far. With the increasing evidence that epigenomic state is highly relevant to fine-scale chromatin organization, we propose CAESAR, a deep learning model to predict nucleosome level chromatin contact maps from previously profiled epigenomic data such as chromatin accessibility and histone modifications. The model accurately predicts fine-scale structures which Hi-C sequencing fails to detect, including short-range chromatin loops and stripes. Our model produces high-resolution chromatin contact maps for 36 human tissues and cell lines, and the imputed chromatin contacts are highly enriched for previously known eQTLs. With nine different hematopoietic cancer cell lines, the imputed enhancer-promoter interactions from our model can be mostly validated with CRISPRi functional profiling in the 3-megabase MYC region. The model is also coupled with an attribution method which identifies the epigenomic features explanatory to these fine-scale chromatin structures. The explanatory features help to further sub-type fine-scale chromatin structures and elucidate the interplay between histone modifications and nucleosome level chromatin organization. The imputed high-resolution contact maps for the 36 human tissues and cell lines are shared on a web server, which allows users to easily navigate these fine-scale chromatin structures and the corresponding explanatory epigenomic features. <a href="#">link</a></p>
          </div>
        </div>
      </div>
    </div>

  <div class="container-fluid d-flex flex-column justify-content-center text-white" style="background-color: #474747;">
    <div class="mb-3" style="margin-top: 100px;">
      <h1 class="h1 font-weight-normal" >
        CAESAR Server
      </h1>
      <h3 class="h3 font-weight-light" >
        <strong>C</strong>hromosomal&nbsp;structure&nbsp;<strong>A</strong>nd&nbsp;<strong>E</strong>pigenomic<strong>S</strong>&nbsp;<strong>A</strong>nalyze<strong>R</strong>
      </h3>
    </div>
    <div>
      <button type="button" class="btn btn-primary" disabled>Sign up</button>
      <button type="button" class="btn btn-primary" disabled>Login</button>
      <a href="/caesar/"><button type="button" class="btn btn-primary" id="guest_btn">Guest Login</button></a>
    </div>
    <div class="mb-5 mt-1">
      <h1 class="font-weight-light" style="font-size: small;">
        *Guest Login is available now.
      </h1>
    </div>
  </div>
  <div class="container-fluid" style="background-color: #FFCB05;">
    <div class="container-fluid w-75" style="background-color:#00274C;">
    <div class="container-fluid d-flex flex-row justify-content-around text-white w-75" style="background-color:#00274C;">
    <div class="mt-3 mb-2">
      <h1 class="h2 font-weight-light" id = "guest_cnt" >
        -
      </h1>
      <h1 class="font-weight-light" style="font-size: medium;">
        Guests
      </h1>
    </div>
    <div class="mt-3 mb-2">
      <h1 class="h2 font-weight-light" id = "view_cnt" >
        -
      </h1>
      <h1 class="font-weight-light" style="font-size: medium;">
        View Requests
      </h1>
    </div>
    <div class="mt-3 mb-2">
      <h1 class="h2 font-weight-light" id = "attr_cnt" >
        -
      </h1>
      <h1 class="font-weight-light" style="font-size: medium;">
        Attribution
      </h1>
    </div>
    </div>
    </div>
  </div>

  <script>
    async function get_stats() {
      let res = await fetch(`/api/v1/stats/`, {
          credentials: 'include',
          method: 'get',
        }).then((response) => {
          if (!response.ok) throw Error(response.statusText);
            return response.json();
        }).then((feedback) => {
          $('#guest_cnt').text(feedback['guest']);
          $('#view_cnt').text(feedback['view']);
          $('#attr_cnt').text(feedback['attr']);
        }).catch(
          (error) => {
            console.log(error)
          }
        );
    }
    get_stats(); 

</script>

  <!-- main -->
  <div class="main container-fluid d-flex flex-row justify-content-center">
    <!-- panel -->
    <div class="container panel d-flex flex-column" style="max-width: 75%;"> 
      <div class="card panel-body mt-5 text-left w-100">
        <!-- title -->  
        <div class="w-100 d-flex flex-column justify-content-center text-center">
          <div>
          <h1 class="h2 font-weight-normal mb-4" >
            Visit Statistics
          </h1>
          <hr />
          </div>
          <!-- learn more -->
          <div class="d-flex flex-column justify-content-center">
   
            <div id='chartbtn'>
              <button type="button" class="btn btn-primary" id='showchart'>Show Chart</button>
            </div>
            <div class="row justify-content-md-center">
              <div class="w-75"><canvas id="myChart"></canvas></div>
            </div>

          </div>
        </div>

      </div>
    
    </div>

    <script>
      var config = {
        // The type of chart we want to create
        type: 'line',
    
        // The data for our dataset
        data: {
            labels: ['label'],
            datasets: [{
                label: 'Guests',
                backgroundColor: 'rgba(0, 0, 0, 0)',
                borderColor: 'rgb(0, 99, 132)',
                data: [0]
            },
            {
                label: 'Views',
                backgroundColor: 'rgba(0, 0, 0, 0)',//.1)',
                borderColor: 'rgb(201, 203, 207)',
                data: [0]
            },
            {
                label: 'Attrs',
                backgroundColor: 'rgba(0, 0, 0, 0)',//.1)',
                borderColor: 'rgb(132, 99, 0)',
                data: [0]
            },
            //{
            //    label: 'My Second dataset',
            //    backgroundColor: 'rgba(0, 0, 0, 0)',
            //    borderColor: 'rgb(0, 99, 132)',
            //    data: [1, 0, 1, 4, 10, 40, 35]
            //}
            ]
        },
    
        // Configuration options go here
        options: {
          responsive: true,
          title: {
            display: true,
            text: '# guest visits over date'
          },
          tooltips: {
            mode: 'index',
            intersect: false,
          },
          hover: {
            mode: 'nearest',
            intersect: true
          },
          scales: {
            xAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: 'Date'
              }
            }],
            yAxes: [{
              display: true,
              scaleLabel: {
                display: true,
                labelString: '# of visits'
              }
            }]
          }
        },
      };
    
      function show_chart() {
        document.getElementById('chartbtn').innerHTML = 'Loading chart...';
        let ctx = document.getElementById('myChart').getContext('2d');
        async function get_plot_data() {
          let feedback = await fetch(`/api/v1/plot/`, {
              credentials: 'include',
              method: 'get',
            }).then((response) => {
              if (!response.ok) throw Error(response.statusText);
                return response.json();
            }).then((feedback) => {
              console.log(feedback)
              return feedback
            }).catch(
              (error) => {
                console.log(error)
              }
            );
          config['data']['labels'] = feedback['dates'];
          config['data']['datasets'][0]['data'] = feedback['guests'];
          config['data']['datasets'][1]['data'] = feedback['views'];
          config['data']['datasets'][2]['data'] = feedback['attrs'];
          //console.log(feedback[0]);
          //console.log(feedback[1]);
          //console.log(feedback[2]);
          var chart = new Chart(ctx, config);
          document.getElementById('chartbtn').innerHTML = '';
        };
        get_plot_data();
      }

      show_chart()
    </script>


    <!-- window -->
    <div class="window border-0 border-dark embed-responsive" id="nbframe">
      <iframe name="nbrowser" id="nbrowser" class="embed-responsive-item" allowfullscreen></iframe>
    </div>
  </div>
    
  <hr />

  <!-- copyright -->
  <p class="mt-5 text-muted"><!--&copy;-->Acknowledgment : <a href="https://vis.nucleome.org/" target="_blank"
     style="color: gray; text-decoration: none; border-bottom: solid 1px #e4e4e4;">Nucleome Browser</a></p>
  <p class="mb-3 text-muted"><!--&copy;-->&copy; Liu Lab | University of Michigan | 2020</p>
    

  <!-- footer -->
  <footer class="blog-footer">
      <!--p>Template from <a class="navlink" href="https://getbootstrap.com/">Bootstrap</a> by <a class="navlink" href="https://twitter.com/mdo">@mdo</a>.</p>
      <p-->
      <a class="navlink" href="#">Back to top</a>
      </p>
  </footer>

  <!-- Frame expand -->


      
  </body>
</html>